
# 租户
1. 租户管理
2. 租户表单
    1. 租户名称必填，长度为2到20个字符。
    2. 租户备注选填，长度为2到20个字符。
    3. 租户状态选填，可选值为正常、停用。
    4. 租户排序选填，数值类型，默认值为0。
    5. 租户参数选填，长度为2到20个字符。
    6. 租户联系电话选填，长度为11个字符。
    7. 租户联系邮箱选填，长度为2到20个字符。
    8. 租户联系地址选填，长度为2到20个字符。
    9. 租户联系人选填，长度为2到20个字符。
    10. 租户联系人电话选填，长度为11个字符。
    11. 租户联系人邮箱选填，长度为2到20个字符。
    12. 租户联系人地址选填，长度为2到20个字符。
    13. 租户联系人参数选填，长度为2到20个字符。

3. 后续所有内容都要满足多租户的需求，包括但不限于：
    1. 数据库表名要添加租户ID字段，用于区分不同租户的数据。
    2. 接口要添加租户ID参数，用于指定操作的租户。
    3. 前端要添加租户ID参数，用于指定操作的租户。
    4. 权限要添加租户ID参数，用于指定操作的租户。
    5. 日志要添加租户ID参数，用于指定操作的租户。
    6. 缓存要添加租户ID参数，用于指定操作的租户。
    7. 消息队列要添加租户ID参数，用于指定操作的租户。
    8. 后续所有内容都要添加租户ID参数，用于指定操作的租户。

# 菜单设置
1. 菜单为树状结构

2. 菜单表单
    1. 菜单名称必填，长度为2到20个字符。
    2. 菜单类型必填，可选值为目录、菜单、按钮。
    3. 菜单图标选填，长度为2到20个字符。
    4. 菜单路径选填，长度为2到20个字符。
    5. 菜单排序选填，数值类型，默认值为0。
    6. 菜单状态选填，可选值为正常、停用。
    7. 菜单备注选填，长度为2到20个字符。
    8. 菜单权限选填，长度为2到20个字符。
    9. 菜单父级选填，可选值为根目录、其他菜单。
    10. 菜单参数选填，长度为2到20个字符。
    11. 菜单组件选填，长度为2到20个字符。
    12. 菜单路由选填，长度为2到20个字符。

# 角色
1. 角色需要控制数据权限和操作权限。
2. 角色表单
    1. 角色名称必填，长度为2到20个字符。
    2. 角色备注选填，长度为2到20个字符。
    3. 角色状态选填，可选值为正常、停用。
    4. 角色菜单选填，可选值为所有菜单、自定义菜单。
    5. 角色用户选填，可选值为所有用户、自定义用户。
    6. 角色菜单权限选填，可选值为所有菜单权限、自定义菜单权限。
    7. 角色操作权限选填，可选值为所有操作权限、自定义操作权限。
    8. 角色数据权限选填，可选值为所有数据权限、自定义数据权限。
    9. 角色数据范围选填，可选值为所有数据范围、自定义数据范围。
    10. 角色参数选填，长度为2到20个字符。
    11. 角色排序选填，数值类型，默认值为0。

# 部门
1. 部门树状结构
2. 部门表单
    1. 部门名称必填，长度为2到20个字符。
    2. 部门备注选填，长度为2到20个字符。
    3. 部门状态选填，可选值为正常、停用。
    4. 部门排序选填，数值类型，默认值为0。
    5. 部门参数选填，长度为2到20个字符。
    6. 部门父级选填，可选值为根目录、其他部门。
    7. 部门主管，为用户选择
    8. 部门编号必填，长度为2到20个字符，数字和英文字母，唯一，如果没有填写需要系统生成。
    9. 部门联系电话选填，长度为11个字符。
    10. 部门联系邮箱选填，长度为2到20个字符。
    11. 部门联系地址选填，长度为2到20个字符。

# 用户
1. 用户需要控制数据权限和操作权限。
2. 用户表单
    1. 用户名称必填，长度为2到20个字符。
    2. 用户密码必填，长度为2到20个字符。
    3. 用户手机号选填，长度为11个字符。
    4. 用户邮箱选填，长度为2到20个字符。
    5. 用户状态选填，可选值为正常、停用、离职。
    6. 用户角色选填，可选值为所有角色、自定义角色，并且支持多选。
    7. 用户部门选填，可选值为所有部门、自定义部门，并且支持多选。
    8. 用户联系电话选填，长度为11个字符。
    9. 用户联系邮箱选填，长度为2到20个字符。
    10. 用户联系地址选填，长度为2到20个字符。
    11. 用户工号选填，长度为2到20个字符，如果没有填写，需要后端直接生成，并且唯一。
    12. 用户备注选填，长度为2到20个字符。
3. 列表可以支持分页、排序、搜索。
4. 可以初始化用户密码。
4. 支持批量操作，包括删除、启用、停用。
5. 支持用户导入，导入用户需要包含用户名称、用户密码、用户手机号、用户邮箱、用户状态、用户角色、用户部门、用户联系电话、用户联系邮箱、用户联系地址。
6. 支持用户导出，导出用户需要包含用户名称、用户密码、用户手机号、用户邮箱、用户状态、用户角色、用户部门、用户联系电话、用户联系邮箱、用户联系地址。

# 角色权限
1. 权限需要满足RBAC模型，包括角色、菜单、操作、数据权限。

# 登录
1. 可以使用工号和密码登录。
2. 也可以使用手机号验证码登录。
3. 需要支持手机端二维码扫码登录。
4. 工号密码登录限制次数，默认值为3次，超过次数锁定三十分钟。
5. 工号密码登录需要拖动验证，拖动验证需要使用拖动滑块验证。
6. 后端可以配置是否开启拖动验证，密码错误次数，解锁已锁定用户。
7. 登录token需要有效期，后端可设置，默认值为1小时。
8. 登录token需要支持刷新，刷新token需要有效期，后端可设置，默认值为7天。
9. 登录token需要支持多端登录，默认值为10个端。
10. 登录token需要支持单端登录，默认值为1个端。
11. 用户初始化密码或者第一次登录需要手机短信验证码激活，用户输入短信验证码后出现密码输入框，两次确认输入之后为激活状态。
12. 用户激活后需要登录，登录后需要跳转到首页。
13. 离职的用户不允许再次登录，但是可以查看历史记录。

# 动态表单和流程、审核
1. 需要支持手动可配置动态表单，采用的前端技术为 epic-designer
2. 需要支持可视化流程设计器，采用的前端技术为 vue Flow
3. 动态表单需要支持自定义校验规则，校验规则需要在前端配置。
4. 用户需要有工作台，工作台为动态流程审核相关内容，包括动态流程的发起、审批、查看、统计等。
5. 动态流程需要支持审批，审批需要在前端配置。
6. 动态流程需要支持审批节点，审批节点需要在前端配置。
7. 动态流程需要支持审批节点的审批人，审批人需要在前端配置。
8. 动态流程需要支持审批节点的发送抄送人，抄送人需要在前端配置。
9. 后端技术采用Flowable 7.1.0版本。

# 第三方应用登录
1. 需要提供第三方应用登录接口，接口需要返回登录凭证。
2. 第三方应用登录需要配置应用信息，包括应用名称、应用图标、应用域名、应用回调地址等。
3. 第三方应用登录需要配置应用权限，包括应用可以访问的接口、应用可以调用的接口等。
4. 第三方应用登录需要配置应用回调地址，回调地址需要在应用中配置，回调地址需要支持多个回调。
5. 第三方应用登录需要配置应用回调地址的参数，包括应用回调地址的参数名称、应用回调地址的参数类型等。
6. 第三方应用登录需要配置应用回调地址的参数的校验规则，校验规则需要在应用中配置。
7. 第三方应用登录需要配置应用回调地址的参数的校验规则的错误提示信息，错误提示信息需要在应用中配置。
8. 第三方应用登录需要配置应用回调地址的参数的校验规则的错误提示信息的参数，包括应用回调地址的参数的校验规则的错误提示信息的参数名称、应用回调地址的参数的校验规则的错误提示信息的参数类型等。
9. 第三方应用登录包含IAM登录，AUTH2.0登录。
10. 第三方应用需要支持多租户


# 数据发放
1. 需要提供第三方应用获取当权租户的部门组织架构。
2. 需要提供第三方应用获取当前租户的用户列表。
3. 如果没有授权的用户信息不支持提供。
4. 如果对应提供的数据有变更，需要提供数据变更通知接口，并且把变更后的内容发送给对应的第三方应用。
5. 第三方应用需要支持数据的订阅，当数据有变更时，需要发送数据变更通知。
6. 第三方应用需要支持数据的取消订阅，当数据不再需要时，需要取消订阅。
7. 通知使用消息队列，需要满足消息队列的高可用、高并发、高可靠、高安全。
8. 通知需要有返回结果确认，如果非正常返回，需要放到队列中，等待后续处理。
9. 通知需要有重试机制，当通知失败时，需要重试一定次数，超过次数后，需要记录失败日志。
10. 通知需要有超时机制，当通知超时未返回，需要记录超时日志。
11. 通知需要有幂等机制，当通知重复发送时，需要忽略重复通知。
12. 需要提供给第三方应用使用动态流程发起接口，接口需要返回流程实例id。
13. 流程的结果也需要有通知接口，当流程有变更时，需要发送通知。
14. 通知接口需要有参数，包括流程实例id、流程状态、流程结果等。

# 操作日志
1. 操作日志需要记录用户的操作和登录日志，包括用户名称、操作时间、操作类型、操作内容、浏览器版本、用户IP等。
2. 操作日志需要支持分页、排序、搜索。
3. 操作日志需要支持导出，导出操作日志需要包含用户名称、操作时间、操作类型、操作内容、浏览器版本、用户IP等。

# 系统监控
1. 系统监控需要记录系统的运行状态，包括CPU、内存、磁盘、网络等。
2. 系统监控需要支持分页、排序、搜索。
3. 系统监控需要支持导出，导出系统监控数据需要包含系统运行状态、系统运行时间、系统运行时长等。
4. 系统监控需要支持图表展示，图表展示需要包含系统运行状态、系统运行时间、系统运行时长等。

# 数据字典
1. 数据字典需要记录系统的静态数据，包括字典类型、字典名称、字典值、字典描述等。
2. 数据字典需要支持分页、排序、搜索。
3. 数据字典需要支持导出，导出数据字典需要包含字典类型、字典名称、字典值、字典描述等。
4. 数据字典需要支持是否启用，禁用的字典数据不允许使用。
5. 数据字典需要支持字典数据的新增、修改、删除。

# 数据字典和枚举的使用
1. 如果只存在业务中使用，就使用数据字典，如果需要在系统逻辑中使用，需要定义枚举，例如用户状态，登录会判断用户是否离职，停用，则需要使用枚举。用户职级，系统中不需要判断用户职级，则使用字典值。

# 上传文件管理
1. 其他模块上传的文件，需要进行文件存储，文件存储需要支持文件上传、下载、删除、查看。
2. 文件存储需要支持文件的元数据，包括文件名称、文件大小、文件类型、文件上传时间、文件上传用户等。
3. 文件存储需要支持文件的权限，包括文件的读取权限、写入权限、删除权限等。
4. 文件存储需要支持文件的版本管理，当文件有变更时，需要保留变更前的版本，方便回滚。
5. 文件存储需要支持文件的搜索，根据文件名称、文件类型、文件上传用户等进行搜索。
6. 文件存储需要支持文件的分类，根据文件的业务类型进行分类。
7. 文件存储需要支持文件的标签，根据文件的业务场景进行标签。
8. 文件存储需要支持文件的分享，根据文件的业务场景进行分享。
9. 文件存储需要支持文件的删除，根据文件的业务场景进行删除。
10. 文件存储支持配置，上传到本地、腾讯云、华为云、阿里云、s3等。
11. 文件存储需要支持文件的上传进度，上传进度需要在前端展示。
12. 文件存储需要支持文件的上传失败，上传失败需要在前端展示。
13. 文件存储需要支持文件的上传成功，上传成功需要在前端展示。
14. 前端和后端需要定义上传组建以实现文件上传功能。
15. 文件上传需要支持大文件切片上传。
16. 文件除了本地存储，其他的上传需要支持通过临时鉴权认证通过前端直接对其他云端发起上传、下载、删除、查看等操作，避免占用应用服务器的网络带宽。

## 系统通知
1. 系统通知需要记录系统的通知信息，包括通知类型、通知内容、通知时间、通知用户等。
2. 系统通知需要支持分页、排序、搜索。
3. 系统通知需要支持导出，导出系统通知需要包含通知类型、通知内容、通知时间、通知用户等。
4. 系统通知需要支持是否启用，禁用的通知数据不允许使用。
5. 系统通知需要支持通知数据批量已读。
6. 系统通知需要支持通知数据批量删除。
